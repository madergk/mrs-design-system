import { Meta } from '@storybook/blocks';

<Meta title="Introduction/Best Practices" />

# Mejores PrÃ¡cticas

GuÃ­a de mejores prÃ¡cticas para usar el MRS Design System de manera efectiva y consistente.

## ğŸ¯ Principios Fundamentales

### 1. Usa Componentes del Sistema

**âœ… Correcto:**
```tsx
import { Button } from 'mrs-design-system';

<Button variant="contained" color="primary">
  Submit
</Button>
```

**âŒ Incorrecto:**
```tsx
<button className="custom-button">
  Submit
</button>
```

**Por quÃ©:** Los componentes del sistema garantizan consistencia visual, accesibilidad y mantenibilidad.

### 2. Usa Design Tokens, No Valores Hardcodeados

**âœ… Correcto:**
```tsx
import { useTheme } from '@mui/material/styles';

const theme = useTheme();
<Box sx={{ 
  padding: theme.spacing(2),
  color: theme.palette.primary.main 
}}>
```

**âŒ Incorrecto:**
```tsx
<Box sx={{ 
  padding: '16px',
  color: '#00686f' 
}}>
```

**Por quÃ©:** Los tokens centralizan los valores de diseÃ±o y facilitan actualizaciones globales.

### 3. ComposiciÃ³n sobre ConfiguraciÃ³n

**âœ… Correcto:**
```tsx
<Card>
  <CardHeader title="My Card" />
  <CardContent>
    <Typography>Content here</Typography>
  </CardContent>
  <CardActions>
    <Button>Action</Button>
  </CardActions>
</Card>
```

**âŒ Incorrecto:**
```tsx
<Card 
  header="My Card"
  content="Content here"
  actions={[<Button>Action</Button>]}
/>
```

**Por quÃ©:** La composiciÃ³n es mÃ¡s flexible y sigue los principios de React.

## ğŸ“ Estructura de Componentes

### OrganizaciÃ³n de Archivos

Cada componente debe seguir esta estructura:

```
ComponentName/
â”œâ”€â”€ ComponentName.tsx      # Componente principal
â”œâ”€â”€ ComponentName.stories.tsx  # Stories de Storybook
â”œâ”€â”€ ComponentName.test.tsx     # Tests (opcional)
â””â”€â”€ index.ts                   # Exports
```

### Naming Conventions

- **Componentes**: PascalCase (`Button`, `CardHeader`)
- **Props**: camelCase (`smallScreen`, `fullWidth`)
- **Variantes**: camelCase o PascalCase segÃºn el componente (`contained`, `Standard`)
- **Archivos**: PascalCase para componentes, camelCase para utilidades

## ğŸ¨ Uso de Variantes

### Variantes de Componentes

Cada componente tiene variantes documentadas. Siempre usa las variantes oficiales:

```tsx
// âœ… Correcto - variantes oficiales
<Button variant="contained" />
<Button variant="outlined" />
<Button variant="text" />

// âŒ Incorrecto - variante no existente
<Button variant="custom" />
```

### TamaÃ±os

Usa los tamaÃ±os estÃ¡ndar del sistema:

```tsx
// âœ… Correcto
<Button size="small" />
<Button size="medium" />
<Button size="large" />

// âŒ Evitar tamaÃ±os custom
<Button size="extra-large" />
```

## ğŸ­ Theming y PersonalizaciÃ³n

### Usar el Theme Provider

Siempre envuelve tu aplicaciÃ³n con `ThemeProvider`:

```tsx
import { ThemeProvider } from '@mui/material';
import { theme } from 'mrs-design-system';

function App() {
  return (
    <ThemeProvider theme={theme}>
      {/* Tu aplicaciÃ³n */}
    </ThemeProvider>
  );
}
```

### PersonalizaciÃ³n con sx Prop

Para personalizaciones menores, usa la prop `sx`:

```tsx
// âœ… Correcto - personalizaciÃ³n menor
<Button 
  sx={{ 
    marginTop: 2,
    width: '100%' 
  }}
>
  Submit
</Button>

// âŒ Evitar - sobrescribir estilos fundamentales
<Button 
  sx={{ 
    backgroundColor: '#ff0000', // Usa color prop en su lugar
    fontSize: '20px'            // Usa size prop en su lugar
  }}
>
```

### Crear Variantes Personalizadas

Si necesitas variantes que no existen, extiende el componente:

```tsx
import { Button } from 'mrs-design-system';
import { styled } from '@mui/material/styles';

const CustomButton = styled(Button)(({ theme }) => ({
  // Personalizaciones especÃ­ficas
  borderRadius: theme.shape.borderRadius * 2,
}));
```

## â™¿ Accesibilidad

### Labels y ARIA

Siempre proporciona labels accesibles:

```tsx
// âœ… Correcto
<IconButton aria-label="Close dialog">
  <CloseIcon />
</IconButton>

// âŒ Incorrecto
<IconButton>
  <CloseIcon />
</IconButton>
```

### NavegaciÃ³n por Teclado

Los componentes del sistema ya incluyen soporte de teclado. No lo deshabilites sin razÃ³n:

```tsx
// âœ… Correcto
<Button onClick={handleClick}>
  Submit
</Button>

// âŒ Evitar - deshabilitar navegaciÃ³n por teclado
<Button onClick={handleClick} tabIndex={-1}>
  Submit
</Button>
```

### Contraste de Colores

Usa los colores del sistema que ya cumplen con WCAG:

```tsx
// âœ… Correcto - colores del sistema
<Button color="primary">Submit</Button>
<Button color="error">Delete</Button>

// âš ï¸ Cuidado - verificar contraste
<Button sx={{ color: '#ff0000', bgcolor: '#ff0000' }}>
  Low Contrast
</Button>
```

## ğŸ“± Responsive Design

### Mobile-First

DiseÃ±a primero para mÃ³vil, luego escala:

```tsx
// âœ… Correcto - mobile-first
<Box sx={{
  padding: { xs: 1, sm: 2, md: 3 },
  fontSize: { xs: '0.875rem', md: '1rem' }
}}>
```

### Breakpoints del Sistema

Usa los breakpoints del theme:

```tsx
const theme = useTheme();

// xs: 0px
// sm: 600px
// md: 900px
// lg: 1200px
// xl: 1536px
```

## ğŸ§ª Testing

### Testing de Componentes

Cuando uses componentes en tests:

```tsx
import { render, screen } from '@testing-library/react';
import { ThemeProvider } from '@mui/material';
import { theme, Button } from 'mrs-design-system';

test('renders button', () => {
  render(
    <ThemeProvider theme={theme}>
      <Button>Click me</Button>
    </ThemeProvider>
  );
  
  expect(screen.getByRole('button')).toBeInTheDocument();
});
```

## ğŸš« Errores Comunes

### 1. Olvidar el ThemeProvider

```tsx
// âŒ Incorrecto
function App() {
  return <Button>Click</Button>; // No funcionarÃ¡ correctamente
}

// âœ… Correcto
function App() {
  return (
    <ThemeProvider theme={theme}>
      <Button>Click</Button>
    </ThemeProvider>
  );
}
```

### 2. Mezclar Sistemas de Estilos

```tsx
// âŒ Evitar - mezclar CSS modules con sx
<div className={styles.container}>
  <Button sx={{ margin: 2 }}>Click</Button>
</div>

// âœ… Correcto - usar sx consistentemente
<Box sx={{ padding: 2 }}>
  <Button sx={{ margin: 2 }}>Click</Button>
</Box>
```

### 3. Ignorar TypeScript

```tsx
// âŒ Evitar - usar any
const handleClick = (e: any) => { ... }

// âœ… Correcto - tipos especÃ­ficos
const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => { ... }
```

## ğŸ“š Recursos Adicionales

- [Material UI Best Practices](https://mui.com/material-ui/getting-started/usage/)
- [React Best Practices](https://react.dev/learn)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)

---

**Siguiente**: [GuÃ­a de ContribuciÃ³n](./?path=/docs/introduction-contributing--docs)

