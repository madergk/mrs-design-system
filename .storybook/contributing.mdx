import { Meta } from '@storybook/blocks';

<Meta title="Introduction/Contributing" />

# GuÃ­a de ContribuciÃ³n

Gracias por tu interÃ©s en contribuir al MRS Design System. Esta guÃ­a te ayudarÃ¡ a entender cÃ³mo agregar nuevos componentes y mejorar el sistema.

## ğŸ¯ Proceso de ContribuciÃ³n

### 1. Crear un Nuevo Componente

Sigue estos pasos para agregar un componente nuevo:

#### Paso 1: Estructura de Archivos

Crea la estructura estÃ¡ndar:

```
src/components/YourComponent/
â”œâ”€â”€ YourComponent.tsx
â”œâ”€â”€ YourComponent.stories.tsx
â”œâ”€â”€ YourComponent.test.tsx (opcional)
â””â”€â”€ index.ts
```

#### Paso 2: Implementar el Componente

```tsx
// YourComponent.tsx
import React from 'react';
import { Box } from '@mui/material';
import { semanticColors } from '../../theme/designTokens';

export interface YourComponentProps {
  /**
   * Description of the prop
   */
  children?: React.ReactNode;
}

export const YourComponent = React.forwardRef<HTMLDivElement, YourComponentProps>(
  ({ children, ...props }, ref) => {
    return (
      <Box
        ref={ref}
        sx={{
          // Usa design tokens aquÃ­
          color: semanticColors.text.primary,
          ...props,
        }}
      >
        {children}
      </Box>
    );
  }
);

YourComponent.displayName = 'YourComponent';

export default YourComponent;
```

#### Paso 3: Crear Stories

```tsx
// YourComponent.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { YourComponent } from './YourComponent';

const meta: Meta<typeof YourComponent> = {
  title: 'Components/YourComponent',
  component: YourComponent,
  tags: ['autodocs'],
  parameters: {
    docs: {
      description: {
        component: 'Description of your component',
      },
    },
  },
};

export default meta;
type Story = StoryObj<typeof YourComponent>;

export const Default: Story = {
  args: {
    children: 'Content',
  },
};
```

#### Paso 4: Exportar el Componente

```tsx
// index.ts
export { YourComponent, type YourComponentProps } from './YourComponent';
export { default } from './YourComponent';
```

Y agregar al `src/index.ts`:

```tsx
export { YourComponent } from './components/YourComponent';
export type { YourComponentProps } from './components/YourComponent';
```

### 2. Agregar Design Tokens

Si tu componente necesita nuevos tokens:

#### En `src/theme/designTokens.ts`:

```typescript
export const componentTokens = {
  // ... existentes
  yourComponent: {
    backgroundColor: semanticColors.background.paper,
    padding: spacing[2], // 16px
  },
} as const;
```

### 3. Actualizar el Theme

Si necesitas personalizar el componente en el theme:

```typescript
// src/theme/createTheme.ts
components: {
  // ... existentes
  MuiYourComponent: {
    styleOverrides: {
      root: {
        // Estilos personalizados
      },
    },
  },
}
```

## ğŸ“ Convenciones de CÃ³digo

### TypeScript

- Usa tipos explÃ­citos, evita `any`
- Exporta tipos de props: `export interface ComponentProps`
- Usa `React.forwardRef` para componentes que necesitan refs

### Estilos

- Usa `sx` prop para estilos inline
- Usa `styled` de MUI para componentes reutilizables
- Siempre usa design tokens, nunca valores hardcodeados

### Naming

- Componentes: PascalCase
- Props: camelCase
- Archivos: PascalCase para componentes

## ğŸ§ª Testing

### Estructura de Tests

```tsx
// YourComponent.test.tsx
import { render, screen } from '@testing-library/react';
import { ThemeProvider } from '@mui/material';
import { theme, YourComponent } from '../..';

describe('YourComponent', () => {
  it('renders correctly', () => {
    render(
      <ThemeProvider theme={theme}>
        <YourComponent>Test</YourComponent>
      </ThemeProvider>
    );
    
    expect(screen.getByText('Test')).toBeInTheDocument();
  });
});
```

## ğŸ“š DocumentaciÃ³n

### Documentar Props

Usa JSDoc para documentar props:

```tsx
export interface YourComponentProps {
  /**
   * Description of the prop
   * @default 'defaultValue'
   */
  propName?: string;
}
```

### Stories Completas

Incluye stories para:
- Default state
- Todas las variantes
- Todos los tamaÃ±os
- Todos los estados (enabled, disabled, etc.)
- Ejemplos de uso real

## ğŸ” Checklist Antes de Hacer PR

- [ ] Componente sigue la estructura estÃ¡ndar
- [ ] Usa design tokens (no valores hardcodeados)
- [ ] Tiene TypeScript types completos
- [ ] Tiene stories en Storybook
- [ ] EstÃ¡ exportado en `src/index.ts`
- [ ] Sigue las convenciones de naming
- [ ] Tiene documentaciÃ³n JSDoc
- [ ] Tests pasan (si aplica)
- [ ] Linter pasa sin errores
- [ ] Formato de cÃ³digo correcto (Prettier)

## ğŸš€ Proceso de PR

1. **Fork** el repositorio
2. **Crea una rama** para tu feature: `git checkout -b feature/new-component`
3. **Commit** tus cambios: `git commit -m 'Add new component'`
4. **Push** a tu fork: `git push origin feature/new-component`
5. **Abre un PR** en el repositorio principal

### Mensaje de PR

Incluye:
- DescripciÃ³n del componente/feature
- Screenshots o ejemplos
- Lista de cambios
- Referencias a issues relacionados

## ğŸ“– Recursos

- [Component Template](./?path=/docs/introduction-component-template--docs) - Template para nuevos componentes
- [Design Tokens Guide](./?path=/docs/introduction-design-tokens--docs) - GuÃ­a de tokens
- [Best Practices](./?path=/docs/introduction-best-practices--docs) - Mejores prÃ¡cticas

## â“ Preguntas

Si tienes preguntas:
1. Revisa la documentaciÃ³n existente
2. Mira ejemplos de componentes similares
3. Abre un issue en el repositorio

---

Â¡Gracias por contribuir! ğŸ‰

